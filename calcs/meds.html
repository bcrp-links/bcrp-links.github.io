<!doctype html>
<html>
<head>
<title>mohsin ali</title>
<meta charset="utf-8" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/styles.css">
</head>
<body>
<div>
		<h1>Format med-rec’d meds list for A&P</h1>
		<p>Tidies up meds list generated by “Viewpoint” SOAP note&mdash;making names lowercase, removing parentheses and commas&mdash;into a more (IMHO) signout-/plan-friendly format.</p>
		<p>Paste below (no need to remove blank lines) and be sure to remove any PHI.</p>
		<textarea id="meds">acetaminophen, 500 mg = 50 mL, IV, Q4hr

Dextrose 5% with 0.9% NaCl 1,000 mL (D5W NS 1,000 mL), 1000 mL, IV
    
ocular lubricant (ocular lubricant drops), 1 drop, Eye Both, bedtime

ondansetron, 2 mg = 1 mL, IV, Q8hr, PRN

PANTOprazole, 40 mg = 1 vial, IV, Q12hr

Sodium Chloride 0.9% (NS enema), 300 mL, PR, Q3hr
</textarea>
		<br>
		<br>
		<button onclick="meds()">Prettify</button>
		<button onclick="document.getElementById('answer').innerHTML = '<br>'">Clear</button>
		<p id="answer"></p>

   <script>
    	function meds() {
	    	var lines = document.getElementById("meds").value;
			// handle cases where EOF is not \n
			lines = (lines + "\n").replace(/^\s*$(?:\r\n?|\n)/gm, "").split("\n");
			document.getElementById("answer").innerHTML = `<p>Did you just rec ${lines.length - 1} meds?!</p>`;
			for(var i = 0; i < lines.length; i++) {
				var inray = lines[i].split(", ");
				orray = inray.slice();
				orray[0] = inray[0].replace(/,/g, "").replace(/ \(.*/, "").toLowerCase();
				orray[1] = inray[1].replace(/ =.*/, "");
				orray[3] = inray[2];
				orray[2] = inray[3];
			document.getElementById("answer").innerHTML += orray.toString().replace(/,/g, " ") + "<br>";
			}
    	}
    </script>
</div>
</body>
</html>

